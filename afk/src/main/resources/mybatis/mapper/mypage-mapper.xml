<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mypageMapper">
	<select id="selectmyFavorite" parameterType="String" resultType="InfoBoardVO">
		SELECT b.INFO_NO, b.INFO_TITLE, b.INFO_CONTENT, b.INFO_WRITER, b.INFO_ENROLLDATE, b.INFO_LOC_L, b.INFO_LOC_M, b.INFO_LOC_S, b.INFO_COUNT, b.INFO_POINT, b.INFO_NOTIFY, b.INFO_PRICE, b.INFO_MAP 
		FROM INFO_FAVORITE f, INFO_BOARD b 
		WHERE f.FA_BD_NO = b.INFO_NO 
		AND f.FA_MB_ID = #{mbid} ORDER BY FA_BD_NO DESC	
	</select>
	
	<update id="updateProfile" parameterType="Member">
		UPDATE MEMBER
		SET MB_ORIGINAL_PIC = #{mb_original_pic}, MB_RENAME_PIC = #{mb_rename_pic}
		WHERE MB_ID = #{mb_id}
	</update>
	
	<update id="deleteMyProfile" parameterType="Member">
		UPDATE MEMBER
		SET MB_ORIGINAL_PIC = NULL, MB_RENAME_PIC = NULL
		WHERE MB_ID = #{mb_id}
	</update>

	<select id="selectmyWish" parameterType="String" resultType="gItem">
		SELECT *
		FROM GUIDE_BOARD GB, GUIDE_FAVORITE GF
		WHERE GB.GUI_NO = GF.FA_BD_NO
		AND GF.FA_MB_ID = #{mbid} 
		ORDER BY FA_BD_NO DESC
	</select>
	
	<delete id="deleteMyWish" parameterType="java.util.Map">
		DELETE FROM GUIDE_FAVORITE WHERE FA_MB_ID = #{fa_mb_id} AND FA_BD_NO = #{fa_bd_no} 
	</delete>
	
	<select id="selectmyGuide" parameterType="String" resultType="gItem">
		SELECT *
		FROM GUIDE_BOARD
		WHERE GUI_WRITER = #{gid}
	</select>
</mapper>